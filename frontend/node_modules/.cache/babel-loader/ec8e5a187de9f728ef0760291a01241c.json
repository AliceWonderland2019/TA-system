{"ast":null,"code":"import axios from 'axios';\naxios.defaults.baseURL = 'http://localhost:8000';\napiConfig = {\n  headers: {\n    Authorization: 'Bearer ' + localStorage.getItem('token')\n  }\n};\nexport const createAccountStudent = (userName, password, firstName, lastName, ID) => new Promise((resolve, reject) => {\n  axios.post('/user/student', {\n    username: userName,\n    password: password,\n    firstname: firstName,\n    lastname: lastName,\n    student_id: ID\n  }).then(function (response) {\n    window.location.href = \"./\";\n    window.alert(\"Successfully registered\");\n  }).catch(function (error) {\n    if (error.response.status === 500) {\n      window.alert(\"Username already taken\");\n    } else {\n      window.alert(error);\n    }\n  });\n});\nexport const checkAccount = (userName, password) => new Promise((resolve, reject) => {\n  axios.post('/session', {\n    username: userName,\n    password: password\n  }).then(function (response) {\n    if (response.status === 201) {\n      //window.alert(\"Successfully log in!!\");\n      localStorage.setItem('token', response.data);\n      window.location.href = \"./studentHome\";\n    } else {\n      window.alert(\"Logged with error\");\n    }\n  }).catch(function (error) {\n    if (error.response.status === 401) {\n      window.alert(\"Unmatched username & password\");\n    } else {\n      window.alert(error);\n    }\n  });\n});\nexport const getUserInfo = () => new Promise((resolve, reject) => {\n  // var myToken=localStorage.getItem('token');\n  if (localStorage.token != null) {\n    //console.log(localStorage.token)\n  }\n  // axios.get(`${baseEndpoint}/nft/${id}`, apiConfig)\n  axios.get('/student', apiConfig).then(x => resolve(x.data)).catch(x => {\n    alert(x);\n    reject(x);\n  });\n});","map":{"version":3,"names":["axios","defaults","baseURL","apiConfig","headers","Authorization","localStorage","getItem","createAccountStudent","userName","password","firstName","lastName","ID","Promise","resolve","reject","post","username","firstname","lastname","student_id","then","response","window","location","href","alert","catch","error","status","checkAccount","setItem","data","getUserInfo","token","get","x"],"sources":["/Users/aliceli/Documents/22Fall/CS4345_Software_Principle/TA-system/frontend/src/api/UserApi.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL='http://localhost:8000';\n apiConfig={\n        headers:{\n            Authorization:'Bearer ' + localStorage.getItem('token')\n        }\n  };\n\nexport const createAccountStudent = (userName,password,firstName,lastName,ID) => new Promise((resolve, reject) => {\n    axios.post('/user/student', {username:userName,password:password,firstname:firstName,lastname:lastName,student_id:ID})\n        .then(function(response){\n            window.location.href=\"./\";\n            window.alert(\"Successfully registered\");\n        })\n        .catch(function(error){\n            if(error.response.status===500){\n                window.alert(\"Username already taken\");\n            }\n            else{\n                window.alert(error);\n            }\n        });\n});\n\nexport const checkAccount = (userName,password) =>new Promise((resolve, reject) =>{\n    axios.post('/session',{username:userName, password:password})\n            .then(function(response){\n                if(response.status===201){\n                    //window.alert(\"Successfully log in!!\");\n                    localStorage.setItem('token',response.data);\n                    window.location.href=\"./studentHome\";\n                }\n                else{\n                    window.alert(\"Logged with error\");\n                }\n            })\n            .catch(function(error){\n                if(error.response.status===401){\n                    window.alert(\"Unmatched username & password\");\n                }\n                else{\n                    window.alert(error);\n                }\n        });\n});\nexport const getUserInfo = () =>new Promise((resolve,reject)=>{\n    // var myToken=localStorage.getItem('token');\n        if( localStorage.token!=null){\n        //console.log(localStorage.token)\n        }\n    // axios.get(`${baseEndpoint}/nft/${id}`, apiConfig)\n    axios.get('/student', apiConfig)\n        .then(x => resolve(x.data))\n        .catch(x => {\n            alert(x);\n            reject(x);\n    });\n});"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzBA,KAAK,CAACC,QAAQ,CAACC,OAAO,GAAC,uBAAuB;AAC7CC,SAAS,GAAC;EACHC,OAAO,EAAC;IACJC,aAAa,EAAC,SAAS,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO;EAC1D;AACN,CAAC;AAEH,OAAO,MAAMC,oBAAoB,GAAG,CAACC,QAAQ,EAACC,QAAQ,EAACC,SAAS,EAACC,QAAQ,EAACC,EAAE,KAAK,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;EAC9GhB,KAAK,CAACiB,IAAI,CAAC,eAAe,EAAE;IAACC,QAAQ,EAACT,QAAQ;IAACC,QAAQ,EAACA,QAAQ;IAACS,SAAS,EAACR,SAAS;IAACS,QAAQ,EAACR,QAAQ;IAACS,UAAU,EAACR;EAAE,CAAC,CAAC,CACjHS,IAAI,CAAC,UAASC,QAAQ,EAAC;IACpBC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAC,IAAI;IACzBF,MAAM,CAACG,KAAK,CAAC,yBAAyB,CAAC;EAC3C,CAAC,CAAC,CACDC,KAAK,CAAC,UAASC,KAAK,EAAC;IAClB,IAAGA,KAAK,CAACN,QAAQ,CAACO,MAAM,KAAG,GAAG,EAAC;MAC3BN,MAAM,CAACG,KAAK,CAAC,wBAAwB,CAAC;IAC1C,CAAC,MACG;MACAH,MAAM,CAACG,KAAK,CAACE,KAAK,CAAC;IACvB;EACJ,CAAC,CAAC;AACV,CAAC,CAAC;AAEF,OAAO,MAAME,YAAY,GAAG,CAACtB,QAAQ,EAACC,QAAQ,KAAI,IAAII,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAI;EAC9EhB,KAAK,CAACiB,IAAI,CAAC,UAAU,EAAC;IAACC,QAAQ,EAACT,QAAQ;IAAEC,QAAQ,EAACA;EAAQ,CAAC,CAAC,CACpDY,IAAI,CAAC,UAASC,QAAQ,EAAC;IACpB,IAAGA,QAAQ,CAACO,MAAM,KAAG,GAAG,EAAC;MACrB;MACAxB,YAAY,CAAC0B,OAAO,CAAC,OAAO,EAACT,QAAQ,CAACU,IAAI,CAAC;MAC3CT,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAC,eAAe;IACxC,CAAC,MACG;MACAF,MAAM,CAACG,KAAK,CAAC,mBAAmB,CAAC;IACrC;EACJ,CAAC,CAAC,CACDC,KAAK,CAAC,UAASC,KAAK,EAAC;IAClB,IAAGA,KAAK,CAACN,QAAQ,CAACO,MAAM,KAAG,GAAG,EAAC;MAC3BN,MAAM,CAACG,KAAK,CAAC,+BAA+B,CAAC;IACjD,CAAC,MACG;MACAH,MAAM,CAACG,KAAK,CAACE,KAAK,CAAC;IACvB;EACR,CAAC,CAAC;AACV,CAAC,CAAC;AACF,OAAO,MAAMK,WAAW,GAAG,MAAK,IAAIpB,OAAO,CAAC,CAACC,OAAO,EAACC,MAAM,KAAG;EAC1D;EACI,IAAIV,YAAY,CAAC6B,KAAK,IAAE,IAAI,EAAC;IAC7B;EACA;EACJ;EACAnC,KAAK,CAACoC,GAAG,CAAC,UAAU,EAAEjC,SAAS,CAAC,CAC3BmB,IAAI,CAACe,CAAC,IAAItB,OAAO,CAACsB,CAAC,CAACJ,IAAI,CAAC,CAAC,CAC1BL,KAAK,CAACS,CAAC,IAAI;IACRV,KAAK,CAACU,CAAC,CAAC;IACRrB,MAAM,CAACqB,CAAC,CAAC;EACjB,CAAC,CAAC;AACN,CAAC,CAAC"},"metadata":{},"sourceType":"module"}